{"version":3,"sources":["placeholdem.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"placeholdem.min.js","sourcesContent":["/**\n * Placeholdem - Placeholder Caret Animation\n * v1.0.2 - MIT License\n * http://placeholdem.jackrugile.com - git://github.com/jackrugile/placeholdem.git\n * by Jack Rugile - @jackrugile\n */\n\nfunction Placeholdem( elems ) {\n\t\"use strict\";\n\n\t(function(){var lastTime=0;var vendors=['ms','moz','webkit','o'];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+'RequestAnimationFrame'];window.cancelAnimationFrame=window[vendors[x]+'CancelAnimationFrame']||window[vendors[x]+'CancelRequestAnimationFrame'];}if(!window.requestAnimationFrame)window.requestAnimationFrame=function(callback,element){var currTime=new Date().getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall);},timeToCall);lastTime=currTime+timeToCall;return id;};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(id){clearTimeout(id);};}());\n\n\tvar P = {};\n\n\tP.customElems = ['password'];\n\tP.defaultInputAttributeName = 'data-defaultinputtype';\n\n\tP.init = function() {\n\t\tP.elems = [];\n\t\tif( elems && elems.length ) {\n\t\t\tfor( var i = 0 ; i < elems.length; i++ ) {\n\t\t\t\tif( P.hasPlaceholder( elems[ i ] ) ) {\n\t\t\t\t\tP.elems.push( new P.PlaceholdemElem( elems[ i ] ) );\n\t\t\t\t}\n\t\t\t}\n\t\t} else if( elems ) {\n\t\t\tif( P.hasPlaceholder( elems ) ) {\n\t\t\t\tP.elems.push( new P.PlaceholdemElem( elems ) );\n\t\t\t}\n\t\t}\n\t};\n\n\tP.hasPlaceholder = function( elem ) {\n\t\treturn ( typeof elem.hasAttribute === 'function' && elem.hasAttribute( 'placeholder' ) );\n\t};\n\n\tP.PlaceholdemElem = function( elem ) {\n\t\tvar PE = this;\n\n\t\tPE.init = function() {\n\t\t\tPE.elem = elem;\n\t\t\tPE.form = elem.form;\n\t\t\tPE.placeholder = PE.elem.getAttribute( 'placeholder' );\n\t\t\tPE.elem.removeAttribute( 'placeholder' );\n\t\t\tPE.rAF = null;\n\t\t\tPE.animating = 0;\n\t\t\tPE.defaultInputType = PE.elem.getAttribute('type');\n\n\t\t\t\n\t\t\tPE.resetDefaultType();\n\n\t\t\tif( !PE.elem.value ) {\n\t\t\t\tPE.elem.value = PE.placeholder;\n\t\t\t}\n\n\t\t\tPE.on( PE.elem, 'focus', PE.onFocus );\n\t\t\tPE.on( PE.elem, 'blur', PE.onBlur);\n\t\t\tPE.on( PE.elem, 'keydown', PE.onKeydown);\n\t\t\tif( PE.form ) {\n\t\t\t\tPE.on( PE.form, 'reset', PE.onReset);\n\t\t\t}\n\t\t};\n\n\t\tPE.on = function( elem, eventType, handler ) {\n\t\t\tif( elem.addEventListener ) {\n\t\t\t\telem.addEventListener( eventType, handler );\n\t\t\t} else {\n\t\t\t\telem.attachEvent( 'on' + eventType, handler );\n\t\t\t}\n\t\t};\n\n\t\tPE.onFocus = function() {\n\t\t\tif( PE.animating || PE.elem.value === PE.placeholder ) {\n\t\t\t\tPE.animating = 1;\n\t\t\t\twindow.cancelAnimationFrame( PE.rAF );\n\t\t\t\tPE.deletePlaceholder();\n\t\t\t\tPE.restoreDefaultType();\n\t\t\t}\n\t\t};\n\n\t\tPE.onBlur = function() {\n\t\t\tif( PE.animating || PE.elem.value === '' ) {\n\t\t\t\tPE.animating = 1;\n\t\t\t\twindow.cancelAnimationFrame( PE.rAF );\n\t\t\t\tPE.restorePlaceholder();\n\t\t\t\tPE.resetDefaultType();\n\t\t\t}\n\t\t};\n\n\t\tPE.onKeydown = function() {\n\t\t\tif( PE.animating ) {\n\t\t\t\tPE.animating = 0;\n\t\t\t\twindow.cancelAnimationFrame( PE.rAF );\n\t\t\t\tPE.elem.value = '';\n\t\t\t}\n\t\t};\n\n\t\tPE.onReset = function() {\n\t\t\tsetTimeout( function() {\n\t\t\t\tPE.onBlur();\n\t\t\t});\n\t\t};\n\n\t\tPE.deletePlaceholder = function() {\n\t\t\tif( PE.elem.value.length > 0 ) {\n\t\t\t\tPE.elem.value = PE.elem.value.slice( 0, -1 );\n\t\t\t\tPE.rAF = window.requestAnimationFrame( PE.deletePlaceholder );\n\t\t\t} else {\n\t\t\t\tPE.animating = 0;\n\t\t\t}\n\t\t};\n\n\t\tPE.restorePlaceholder = function() {\n\t\t\tif( PE.elem.value.length < PE.placeholder.length ) {\n\t\t\t\tPE.elem.value += PE.placeholder[ PE.elem.value.length ];\n\t\t\t\tPE.rAF = window.requestAnimationFrame( PE.restorePlaceholder );\n\t\t\t} else {\n\t\t\t\tPE.animating = 0;\n\t\t\t}\n\t\t};\n\n\t\tPE.restoreDefaultType = function(){\n\t\t\tvar defaultType = PE.elem.getAttribute(P.defaultInputAttributeName);\n\t\t\tif(defaultType && P.customElems.indexOf(defaultType) != -1 && defaultType != PE.elem.getAttribute('type')){\n\t\t\t\tPE.elem.setAttribute('type', defaultType);\n\t\t\t}\n\t\t};\n\n\t\tPE.resetDefaultType = function(){\n\t\t\tif(P.customElems.indexOf(PE.defaultInputType) != -1){\n\t\t\t    PE.elem.setAttribute(P.defaultInputAttributeName, PE.defaultInputType);\n\t\t\t\tPE.elem.setAttribute('type', 'text');\n\t\t\t}\n\t\t};\t\n\n\t\tPE.init();\n\t};\n\n\tP.init();\n\n\treturn P;\n}"],"sourceRoot":"/source/"}